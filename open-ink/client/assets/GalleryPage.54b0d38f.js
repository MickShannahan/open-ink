import{_ as m,b as o,A as l,r as p,m as f,E as y,c as n,e as r,u as g,C as v,x as P,F as h,o as i,G as w,H as j,z as G,n as C,I as x,B as k,q as _,P as A}from"./index.b986b594.js";const B={key:0,class:"guard"},E={__name:"GalleryPage",setup(S){const t=G(),s=o(()=>l.activeGallery);o(()=>l.projects);const a=p(!1);async function u(){try{let e=l.galleries.find(c=>c.name==t.params.gallery);_.setActive(e),await _.getGalleryProjects(t.params.artist,e.id)}catch(e){A.error(e)}}return f(()=>{C.log("gallery watch"),t.params.gallery&&u()}),y(s,async()=>{s.value.nsfw&&(a.value=!0,!await x.confirmToken())||(a.value=!1)}),(e,c)=>{const d=k("ProjectsThread");return i(),n("div",{class:h(["component p-0 my-2",{nsfw:a.value}])},[r(d),r(w,{id:"create-project"}),r(v,{id:"edit-gallery",galleryData:g(s)},null,8,["galleryData"]),a.value?(i(),n("div",B)):P("",!0),r(j)],2)}}},z=m(E,[["__scopeId","data-v-63ecd43a"]]);export{z as default};
