import{_ as I,r as u,b as S,A as V,w as q,c as n,a as e,d as A,t as i,e as b,f,g as y,h as c,v as p,u as P,i as g,j as B,o as d,U as C,p as j,k as D,l as M,m as E,P as x,n as L,q as T}from"./index.424e4132.js";const o=m=>(j("data-v-0b71b563"),m=m(),D(),m),K={class:"container-fluid height-screen pt-5 align-items-center themeless"},R={class:"row justify-content-around px-5"},z=["onSubmit"],F={class:"row justify-content-center"},G={id:"helpId",class:"form-text text-muted"},H={class:"my-3 col-8 text-center picture-wrapper rounded"},J=["src"],O={key:0,class:"my-1"},Q={key:1,class:"mb-1"},W={key:0},X={key:1},Y=o(()=>e("i",{class:"mdi mdi-map-marker"},null,-1)),Z={class:"mb-3"},$=o(()=>e("label",{for:"",class:"form-label"},"Name",-1)),ee={class:"mb-3"},ae=o(()=>e("label",{for:"",class:"form-label"},"Username",-1)),te={key:0,class:"form-text text-danger"},se={key:1,id:"helpId",class:"form-text text-muted"},le=o(()=>e("i",{class:"mdi mdi-check"},null,-1)),oe={class:"mb-3"},ne=o(()=>e("label",{for:"displayName"},"display on profile",-1)),ie={class:"d-flex"},ce={class:"form-check me-5"},de=o(()=>e("small",null,"name",-1)),re={class:"form-check"},ue=o(()=>e("small",null,"username",-1)),me={class:"mb-3"},pe=o(()=>e("label",{for:"",class:"form-label"},"bio",-1)),_e={class:"mb-3"},ve=o(()=>e("label",{for:"",class:"form-label"},"location",-1)),he=["required"],be={class:"col-12"},fe=["disabled"],ye={class:"col-7 px-4"},ge={class:"text-dark bg-light rounded elevation-3 p-3"},xe={__name:"AccountPage",setup(m){const a=u({}),_=S(()=>V.account),v=u(null);u(!1);const h=u(!0),r=u("");q(()=>{a.value={..._.value}});function k(l,t="picture"){a.value[t]=l.url,v.value=l.file}async function U(){try{let l=await B.checkUsername(a.value.username);r.value=l.username}catch{r.value=""}}async function w(){try{if(v.value){let l=await M.upload(v.value,_.value.id,"profile-picture");a.value.picture=l.smallUrl}await E.update(a.value),x.toast("Profile Updated","success","top")}catch(l){x.error(l)}}return(l,t)=>{const N=L("InvitesComponent");return d(),n("div",K,[e("section",R,[e("form",{class:"col-5 text-dark bg-light rounded elevation-3 p-3",onSubmit:A(w,["prevent"])},[e("div",F,[e("small",G,i(a.value.email),1),e("div",H,[e("img",{class:"account-picture elevation-3",src:a.value.picture,alt:""},null,8,J),b(C,{id:"picture",onUploading:k,options:{required:!1},class:"upload-account on-hover"}),a.value.displayName=="username"?(d(),n("h5",O,[e("b",null,i(a.value.username),1)])):(d(),n("h5",Q,[e("b",null,i(a.value.name),1)])),e("div",null,[a.value.bio?(d(),n("small",W,i(a.value.bio)+"\u205F\u200A",1)):f("",!0),a.value.location?(d(),n("small",X,[Y,y(i(a.value.location),1)])):f("",!0)])]),e("div",Z,[$,c(e("input",{type:"text",required:"","onUpdate:modelValue":t[0]||(t[0]=s=>a.value.name=s),class:"form-control",name:"name","aria-describedby":"helpId",placeholder:"",minlength:"3",maxlength:"25"},null,512),[[p,a.value.name]])]),e("div",ee,[ae,c(e("input",{type:"text",required:"",minLength:"3",maxLength:"15","onUpdate:modelValue":t[1]||(t[1]=s=>a.value.username=s),class:"form-control",name:"username","aria-describedby":"helpId",placeholder:"",onKeyup:U},null,544),[[p,a.value.username]]),r.value.length&&r.value!=P(_).username?(d(),n("small",te,i(r.value)+" is already taken",1)):(d(),n("small",se,[y("https://open-ink.art/"+i(a.value.username)+" ",1),le]))]),e("div",oe,[ne,e("div",ie,[e("div",ce,[de,c(e("input",{type:"radio",class:"form-check-input",name:"displayName","onUpdate:modelValue":t[2]||(t[2]=s=>a.value.displayName=s),value:"name"},null,512),[[g,a.value.displayName]])]),e("div",re,[ue,c(e("input",{type:"radio",class:"form-check-input",name:"displayName","onUpdate:modelValue":t[3]||(t[3]=s=>a.value.displayName=s),value:"username"},null,512),[[g,a.value.displayName]])])])]),e("div",me,[pe,c(e("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=s=>a.value.bio=s),class:"form-control",name:"bio","aria-describedby":"helpId",placeholder:"Digital artist",minlength:"0",maxlength:"30"},null,512),[[p,a.value.bio]])]),e("div",_e,[ve,c(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=s=>a.value.location=s),class:"form-control",name:"location","aria-describedby":"helpId",placeholder:"nowhere, usa",minlength:"0",maxlength:"25"},null,512),[[p,a.value.location]])]),c(e("input",{type:"checkbox",required:!h.value},null,8,he),[[T,!1]]),e("div",be,[e("button",{class:"btn-primary w-100",disabled:!h.value||r.value.length},"save",8,fe)])])],40,z),e("div",ye,[e("div",ge,[b(N)])])])])}}},Ue=I(xe,[["__scopeId","data-v-0b71b563"]]);export{Ue as default};
