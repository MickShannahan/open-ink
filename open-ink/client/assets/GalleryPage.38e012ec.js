import{_ as p,b as c,A as l,r as m,w as d,H as g,c as n,e as r,u as y,F as v,f as P,I as w,o as i,J as h,K as j,E as G,z as C,L as b,q as k,B as _,P as x}from"./index.406287be.js";const A={key:0,class:"guard"},B={__name:"GalleryPage",setup(E){const t=G(),s=c(()=>l.activeGallery);c(()=>l.projects);const a=m(!1);async function u(){try{let e=l.galleries.find(o=>o.name==t.params.gallery);_.setActive(e),await _.getGalleryProjects(t.params.artist,e.id)}catch(e){x.error(e)}}return d(()=>{C.log("gallery watch"),t.params.gallery&&u()}),g(s,async()=>{s.value.nsfw&&(a.value=!0,!await b.confirmToken())||(a.value=!1)}),(e,o)=>{const f=k("ProjectsThread");return i(),n("div",{class:w(["component p-0 mb-2",{nsfw:a.value}])},[r(f),r(h,{id:"create-project"}),r(v,{id:"edit-gallery",galleryData:y(s)},null,8,["galleryData"]),a.value?(i(),n("div",A)):P("",!0),r(j)],2)}}},T=p(B,[["__scopeId","data-v-56b92464"]]);export{T as default};
